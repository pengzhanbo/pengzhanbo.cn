import{_ as k,c as e,a as n,b as s,d as a,e as l,w as h,r as p,o as r}from"./app-CswOyyIB.js";const d={},g={class:"language-ts","data-highlighter":"shiki","data-ext":"ts",style:{"--shiki-light":"#393a34","--shiki-dark":"#dbd7caee","--shiki-light-bg":"#ffffff","--shiki-dark-bg":"#121212"}},o={class:"shiki shiki-themes vitesse-light vitesse-dark vp-code twoslash lsp"},y={class:"language-ts"},B={class:"line"},D={style:{"--shiki-light":"#2E8F82","--shiki-dark":"#5DA994"}},A={class:"line"},u={style:{"--shiki-light":"#B07D48","--shiki-dark":"#BD976A"}},c={style:{"--shiki-light":"#2E8F82","--shiki-dark":"#5DA994"}},C={class:"language-ts","data-highlighter":"shiki","data-ext":"ts",style:{"--shiki-light":"#393a34","--shiki-dark":"#dbd7caee","--shiki-light-bg":"#ffffff","--shiki-dark-bg":"#121212"}},v={class:"shiki shiki-themes vitesse-light vitesse-dark vp-code twoslash lsp"},m={class:"language-ts"},f={class:"line"},b={style:{"--shiki-light":"#B07D48","--shiki-dark":"#BD976A"}},w={class:"line"},E={style:{"--shiki-light":"#998418","--shiki-dark":"#B8A965"}},F={class:"line"},S={style:{"--shiki-light":"#998418","--shiki-dark":"#B8A965"}},T={class:"line"},N={style:{"--shiki-light":"#998418","--shiki-dark":"#B8A965"}},x={class:"line"},L={style:{"--shiki-light":"#AB5959","--shiki-dark":"#CB7676"}},I={class:"line"},P={style:{"--shiki-light":"#2E8F82","--shiki-dark":"#5DA994"}},R={style:{"--shiki-light":"#B07D48","--shiki-dark":"#BD976A"}},J={style:{"--shiki-light":"#B07D48","--shiki-dark":"#BD976A"}},G={class:"line"},j={style:{"--shiki-light":"#B07D48","--shiki-dark":"#BD976A"}},z={style:{"--shiki-light":"#B07D48","--shiki-dark":"#BD976A"}},U={style:{"--shiki-light":"#B07D48","--shiki-dark":"#BD976A"}};function V(q,i){const t=p("v-menu");return r(),e("div",null,[i[76]||(i[76]=n(`<h2 id="what-is-enum" tabindex="-1"><a class="header-anchor" href="#what-is-enum"><span>什么是 enum ？</span></a></h2><p>在 TypeScript 中，<code>enum</code> 是一种用于定义一组命名常量的数据类型。它看起来很像其他语言中的枚举，例如 C# 或 Java：</p><div class="language-ts line-numbers-mode" data-highlighter="shiki" data-ext="ts" style="--shiki-light:#393a34;--shiki-dark:#dbd7caee;--shiki-light-bg:#ffffff;--shiki-dark-bg:#121212;"><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code"><code class="language-ts"><span class="line"><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;">// 定义一个枚举</span></span>
<span class="line"><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;">enum</span><span style="--shiki-light:#2E8F82;--shiki-dark:#5DA994;"> Status</span><span style="--shiki-light:#999999;--shiki-dark:#666666;"> {</span></span>
<span class="line"><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;">  Pending</span><span style="--shiki-light:#999999;--shiki-dark:#666666;"> =</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;"> &#39;</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">PENDING</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&#39;</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">,</span></span>
<span class="line"><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;">  Fulfilled</span><span style="--shiki-light:#999999;--shiki-dark:#666666;"> =</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;"> &#39;</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">FULFILLED</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&#39;</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">,</span></span>
<span class="line"><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;">  Rejected</span><span style="--shiki-light:#999999;--shiki-dark:#666666;"> =</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;"> &#39;</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">REJECTED</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&#39;</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">,</span></span>
<span class="line"><span style="--shiki-light:#999999;--shiki-dark:#666666;">}</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;">// 使用枚举</span></span>
<span class="line"><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;">let </span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;">current</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">: </span><span style="--shiki-light:#2E8F82;--shiki-dark:#5DA994;">Status</span><span style="--shiki-light:#999999;--shiki-dark:#666666;"> =</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;"> Status</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">.</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;">Pending</span></span>
<span class="line"><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;">console</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">.</span><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">log</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">(</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;">current</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">)</span><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;"> // 输出: PENDING</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>枚举被设计为既能作为 <mark>类型</mark> 使用，也能作为 <mark>值</mark> 使用，这让它们看起来很方便。 然而，在 TypeScript 项目中，尤其是现代前端开发中，枚举并不是最佳实践。 接下来，我们将深入探讨为什么你应该考虑丢弃 <strong>枚举</strong> ，转向更现代、更轻量级的替代方案。</p><h2 id="why-stop-using-enum" tabindex="-1"><a class="header-anchor" href="#why-stop-using-enum"><span>为什么应该停止使用 enum ？</span></a></h2><h3 id="runtime-overhead" tabindex="-1"><a class="header-anchor" href="#runtime-overhead"><span>运行时开销</span></a></h3><p>枚举会生成额外的 JavaScript 代码。 当编译器将 TypeScript 转换为 JavaScript 时，枚举不仅会留下类型声明，还会生成运行时的对象字面量。</p><div class="language-ts" data-highlighter="shiki" data-ext="ts" style="--shiki-light:#393a34;--shiki-dark:#dbd7caee;--shiki-light-bg:#ffffff;--shiki-dark-bg:#121212;"><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code"><code class="language-ts"><span class="line"><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;">// TypeScript 代码</span></span>
<span class="line"><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;">enum</span><span style="--shiki-light:#2E8F82;--shiki-dark:#5DA994;"> Color</span><span style="--shiki-light:#999999;--shiki-dark:#666666;"> {</span></span>
<span class="line"><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;">  Red</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">,</span></span>
<span class="line"><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;">  Green</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">,</span></span>
<span class="line"><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;">  Blue</span></span>
<span class="line"><span style="--shiki-light:#999999;--shiki-dark:#666666;">}</span></span></code></pre></div><div class="language-js" data-highlighter="shiki" data-ext="js" style="--shiki-light:#393a34;--shiki-dark:#dbd7caee;--shiki-light-bg:#ffffff;--shiki-dark-bg:#121212;"><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code"><code class="language-js"><span class="line"><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;">// 编译后的 JavaScript</span></span>
<span class="line"><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;">let</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;"> Color</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">;</span></span>
<span class="line"><span style="--shiki-light:#999999;--shiki-dark:#666666;">(</span><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;">function</span><span style="--shiki-light:#999999;--shiki-dark:#666666;"> (</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;">Color</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">)</span><span style="--shiki-light:#999999;--shiki-dark:#666666;"> {</span></span>
<span class="line"><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;">  Color</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">[</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;">Color</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">.</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;">Red</span><span style="--shiki-light:#999999;--shiki-dark:#666666;"> =</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;"> 0</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">]</span><span style="--shiki-light:#999999;--shiki-dark:#666666;"> =</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;"> &#39;</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">Red</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&#39;</span></span>
<span class="line"><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;">  Color</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">[</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;">Color</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">.</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;">Green</span><span style="--shiki-light:#999999;--shiki-dark:#666666;"> =</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;"> 1</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">]</span><span style="--shiki-light:#999999;--shiki-dark:#666666;"> =</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;"> &#39;</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">Green</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&#39;</span></span>
<span class="line"><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;">  Color</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">[</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;">Color</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">.</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;">Blue</span><span style="--shiki-light:#999999;--shiki-dark:#666666;"> =</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;"> 2</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">]</span><span style="--shiki-light:#999999;--shiki-dark:#666666;"> =</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;"> &#39;</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">Blue</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&#39;</span></span>
<span class="line"><span style="--shiki-light:#999999;--shiki-dark:#666666;">})(</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;">Color</span><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;"> ||</span><span style="--shiki-light:#999999;--shiki-dark:#666666;"> (</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;">Color</span><span style="--shiki-light:#999999;--shiki-dark:#666666;"> =</span><span style="--shiki-light:#999999;--shiki-dark:#666666;"> {}))</span></span></code></pre></div><p>这段代码在运行时占用了内存。对于追求极致性能的移动前端应用来说，这可能是不可忽视的开销。</p><h3 id="bundle-size-increase" tabindex="-1"><a class="header-anchor" href="#bundle-size-increase"><span>打包体积膨胀</span></a></h3><p>正如上述编译后的代码：</p><div class="language-js" data-highlighter="shiki" data-ext="js" style="--shiki-light:#393a34;--shiki-dark:#dbd7caee;--shiki-light-bg:#ffffff;--shiki-dark-bg:#121212;"><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code"><code class="language-js"><span class="line"><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;">// 编译后的 JavaScript</span></span>
<span class="line"><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;">let</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;"> Color</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">;</span></span>
<span class="line"><span style="--shiki-light:#999999;--shiki-dark:#666666;">(</span><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;">function</span><span style="--shiki-light:#999999;--shiki-dark:#666666;"> (</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;">Color</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">)</span><span style="--shiki-light:#999999;--shiki-dark:#666666;"> {</span></span>
<span class="line"><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;">  Color</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">[</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;">Color</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">.</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;">Red</span><span style="--shiki-light:#999999;--shiki-dark:#666666;"> =</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;"> 0</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">]</span><span style="--shiki-light:#999999;--shiki-dark:#666666;"> =</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;"> &#39;</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">Red</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&#39;</span></span>
<span class="line"><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;">  Color</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">[</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;">Color</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">.</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;">Green</span><span style="--shiki-light:#999999;--shiki-dark:#666666;"> =</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;"> 1</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">]</span><span style="--shiki-light:#999999;--shiki-dark:#666666;"> =</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;"> &#39;</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">Green</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&#39;</span></span>
<span class="line"><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;">  Color</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">[</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;">Color</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">.</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;">Blue</span><span style="--shiki-light:#999999;--shiki-dark:#666666;"> =</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;"> 2</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">]</span><span style="--shiki-light:#999999;--shiki-dark:#666666;"> =</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;"> &#39;</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">Blue</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&#39;</span></span>
<span class="line"><span style="--shiki-light:#999999;--shiki-dark:#666666;">})(</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;">Color</span><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;"> ||</span><span style="--shiki-light:#999999;--shiki-dark:#666666;"> (</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;">Color</span><span style="--shiki-light:#999999;--shiki-dark:#666666;"> =</span><span style="--shiki-light:#999999;--shiki-dark:#666666;"> {}))</span></span></code></pre></div><p>即使你没有在代码中使用枚举的值，它依然会被打包到最终的 bundle 中。这段代码会增加了几 KB 的体积。</p><div class="hint-container warning"><p class="hint-container-title">在大型框架中，多个枚举会累积成显著的体积负担。</p></div><h3 id="incompatible-with-tree-shaking" tabindex="-1"><a class="header-anchor" href="#incompatible-with-tree-shaking"><span>与 tree-shaking 不兼容</span></a></h3><p>现代打包工具（如 <code>Webpack</code>、<code>Rollup</code> 或 <code>Vite</code>）都支持 <mark>Tree-shaking</mark> ，即在打包时移除未使用的代码。 然而，TypeScript 枚举却与这一机制存在兼容性问题。</p><p>由于枚举既定义了类型又生成了值，即使在代码中只引用了类型，运行时对象也可能被保留，导致 Tree-shaking 失效。</p><div class="hint-container tip"><p class="hint-container-title">解决方案</p><p>使用 <code>const enum</code> 可以在某些情况下解决问题，但它要求开启 <code>preserveConstEnums</code> 选项，并且会牺牲一些开发体验。</p></div><p>一个在 <a href="https://stackoverflow.com/questions/68720866/why-does-webpack-5-include-my-unused-typescript-enum-exports-even-when-tree-sha" target="_blank" rel="noopener noreferrer">Stack Overflow 上的热门问题</a> 指出：即使使用了 <code>const enum</code>，<code>Webpack 5</code> 仍然可能包含未使用的枚举导出。</p><h3 id="not-pure-type" tabindex="-1"><a class="header-anchor" href="#not-pure-type"><span>不是纯粹的类型</span></a></h3><p>枚举是一种“双重身份”的结构：它既是一个 <mark>类型</mark> ，又是一个 <mark>值</mark> 。 这种模糊的界限在跨模块使用时会导致问题。</p><div class="language-ts line-numbers-mode" data-highlighter="shiki" data-ext="ts" style="--shiki-light:#393a34;--shiki-dark:#dbd7caee;--shiki-light-bg:#ffffff;--shiki-dark-bg:#121212;"><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code"><code class="language-ts"><span class="line"><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;">// module-a.ts</span></span>
<span class="line"><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;">enum</span><span style="--shiki-light:#2E8F82;--shiki-dark:#5DA994;"> Status</span><span style="--shiki-light:#999999;--shiki-dark:#666666;"> {</span></span>
<span class="line"><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;">  Active</span><span style="--shiki-light:#999999;--shiki-dark:#666666;"> =</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;"> &#39;</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">active</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&#39;</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">,</span></span>
<span class="line"><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;">  Inactive</span><span style="--shiki-light:#999999;--shiki-dark:#666666;"> =</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;"> &#39;</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">inactive</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&#39;</span></span>
<span class="line"><span style="--shiki-light:#999999;--shiki-dark:#666666;">}</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;">// module-b.ts</span></span>
<span class="line"><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">import</span><span style="--shiki-light:#999999;--shiki-dark:#666666;"> {</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;"> Status</span><span style="--shiki-light:#999999;--shiki-dark:#666666;"> }</span><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;"> from</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;"> &#39;</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">./module-a</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&#39;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;">// 这里 Status 既是类型，也是值</span></span>
<span class="line"><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;">const </span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;">userStatus</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">: </span><span style="--shiki-light:#2E8F82;--shiki-dark:#5DA994;">Status</span><span style="--shiki-light:#999999;--shiki-dark:#666666;"> =</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;"> Status</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">.</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;">Active</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>这种设计在类型系统中引入了不必要的运行时依赖。 相比之下，联合类型（Union Types）是纯粹的类型，完全不会生成运行时代码。</p><h3 id="not-compatible-with-es6-plus" tabindex="-1"><a class="header-anchor" href="#not-compatible-with-es6-plus"><span>不兼容 ES6+</span></a></h3><p>TypeScript <code>enum</code> 不是 ECMAScript 标准的一部分。</p><p>这意味着它无法被浏览器或 Node.js 原生识别。 当你使用 ES 模块进行开发时，枚举总是需要编译转换，增加了构建步骤的复杂性。</p><p>而像 <code>as const</code> 这样的现代 TypeScript 特性，生成的代码更贴近原生 JavaScript，更易于与现代工具链集成。</p><h2 id="enum-alternatives" tabindex="-1"><a class="header-anchor" href="#enum-alternatives"><span>enum 替代方案</span></a></h2><h3 id="union-types-and-string-literals" tabindex="-1"><a class="header-anchor" href="#union-types-and-string-literals"><span>联合类型 + 字符串字面量</span></a></h3>`,30)),s("div",g,[s("pre",o,[s("code",y,[i[12]||(i[12]=s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#A0ADA0","--shiki-dark":"#758575DD"}},"// 代替枚举")],-1)),i[13]||(i[13]=a(`
`,-1)),s("span",B,[i[2]||(i[2]=s("span",{style:{"--shiki-light":"#AB5959","--shiki-dark":"#CB7676"}},"type",-1)),i[3]||(i[3]=s("span",{style:{"--shiki-light":"#2E8F82","--shiki-dark":"#5DA994"}}," ",-1)),s("span",D,[l(t,{class:"twoslash-hover","popper-class":"shiki twoslash-floating vp-copy-ignore vp-code",theme:"twoslash"},{popper:h(({})=>[...i[0]||(i[0]=[s("span",{class:"twoslash-popup-container vp-copy-ignore"},[s("code",{class:"twoslash-popup-code"},[s("span",{style:{"--shiki-light":"#AB5959","--shiki-dark":"#CB7676"}},"type"),s("span",{style:{"--shiki-light":"#2E8F82","--shiki-dark":"#5DA994"}}," Status"),s("span",{style:{"--shiki-light":"#999999","--shiki-dark":"#666666"}}," ="),s("span",{style:{"--shiki-light":"#B5695977","--shiki-dark":"#C98A7D77"}},' "'),s("span",{style:{"--shiki-light":"#B56959","--shiki-dark":"#C98A7D"}},"PENDING"),s("span",{style:{"--shiki-light":"#B5695977","--shiki-dark":"#C98A7D77"}},'"'),s("span",{style:{"--shiki-light":"#999999","--shiki-dark":"#666666"}}," |"),s("span",{style:{"--shiki-light":"#B5695977","--shiki-dark":"#C98A7D77"}},' "'),s("span",{style:{"--shiki-light":"#B56959","--shiki-dark":"#C98A7D"}},"FULFILLED"),s("span",{style:{"--shiki-light":"#B5695977","--shiki-dark":"#C98A7D77"}},'"'),s("span",{style:{"--shiki-light":"#999999","--shiki-dark":"#666666"}}," |"),s("span",{style:{"--shiki-light":"#B5695977","--shiki-dark":"#C98A7D77"}},' "'),s("span",{style:{"--shiki-light":"#B56959","--shiki-dark":"#C98A7D"}},"REJECTED"),s("span",{style:{"--shiki-light":"#B5695977","--shiki-dark":"#C98A7D77"}},'"')])],-1)])]),default:h(()=>[i[1]||(i[1]=s("span",null,"Status",-1))]),_:1})]),i[4]||(i[4]=n('<span style="--shiki-light:#999999;--shiki-dark:#666666;"> =</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;"> &#39;</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">PENDING</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&#39;</span><span style="--shiki-light:#999999;--shiki-dark:#666666;"> |</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;"> &#39;</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">FULFILLED</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&#39;</span><span style="--shiki-light:#999999;--shiki-dark:#666666;"> |</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;"> &#39;</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">REJECTED</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&#39;</span>',12))]),i[14]||(i[14]=a(`
`,-1)),i[15]||(i[15]=s("span",{class:"line"},null,-1)),i[16]||(i[16]=a(`
`,-1)),s("span",A,[i[9]||(i[9]=s("span",{style:{"--shiki-light":"#AB5959","--shiki-dark":"#CB7676"}},"let ",-1)),s("span",u,[l(t,{class:"twoslash-hover","popper-class":"shiki twoslash-floating vp-copy-ignore vp-code",theme:"twoslash"},{popper:h(({})=>[...i[5]||(i[5]=[s("span",{class:"twoslash-popup-container vp-copy-ignore"},[s("code",{class:"twoslash-popup-code"},[s("span",{style:{"--shiki-light":"#AB5959","--shiki-dark":"#CB7676"}},"let "),s("span",{style:{"--shiki-light":"#B07D48","--shiki-dark":"#BD976A"}},"current"),s("span",{style:{"--shiki-light":"#999999","--shiki-dark":"#666666"}},": "),s("span",{style:{"--shiki-light":"#2E8F82","--shiki-dark":"#5DA994"}},"Status")])],-1)])]),default:h(()=>[i[6]||(i[6]=s("span",null,"current",-1))]),_:1})]),i[10]||(i[10]=s("span",{style:{"--shiki-light":"#999999","--shiki-dark":"#666666"}},": ",-1)),s("span",c,[l(t,{class:"twoslash-hover","popper-class":"shiki twoslash-floating vp-copy-ignore vp-code",theme:"twoslash"},{popper:h(({})=>[...i[7]||(i[7]=[s("span",{class:"twoslash-popup-container vp-copy-ignore"},[s("code",{class:"twoslash-popup-code"},[s("span",{style:{"--shiki-light":"#AB5959","--shiki-dark":"#CB7676"}},"type"),s("span",{style:{"--shiki-light":"#2E8F82","--shiki-dark":"#5DA994"}}," Status"),s("span",{style:{"--shiki-light":"#999999","--shiki-dark":"#666666"}}," ="),s("span",{style:{"--shiki-light":"#B5695977","--shiki-dark":"#C98A7D77"}},' "'),s("span",{style:{"--shiki-light":"#B56959","--shiki-dark":"#C98A7D"}},"PENDING"),s("span",{style:{"--shiki-light":"#B5695977","--shiki-dark":"#C98A7D77"}},'"'),s("span",{style:{"--shiki-light":"#999999","--shiki-dark":"#666666"}}," |"),s("span",{style:{"--shiki-light":"#B5695977","--shiki-dark":"#C98A7D77"}},' "'),s("span",{style:{"--shiki-light":"#B56959","--shiki-dark":"#C98A7D"}},"FULFILLED"),s("span",{style:{"--shiki-light":"#B5695977","--shiki-dark":"#C98A7D77"}},'"'),s("span",{style:{"--shiki-light":"#999999","--shiki-dark":"#666666"}}," |"),s("span",{style:{"--shiki-light":"#B5695977","--shiki-dark":"#C98A7D77"}},' "'),s("span",{style:{"--shiki-light":"#B56959","--shiki-dark":"#C98A7D"}},"REJECTED"),s("span",{style:{"--shiki-light":"#B5695977","--shiki-dark":"#C98A7D77"}},'"')])],-1)])]),default:h(()=>[i[8]||(i[8]=s("span",null,"Status",-1))]),_:1})]),i[11]||(i[11]=n('<span style="--shiki-light:#999999;--shiki-dark:#666666;"> =</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;"> &#39;</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">PENDING</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&#39;</span><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;"> // 纯类型，无运行时开销</span>',5))])])])]),i[77]||(i[77]=n('<p><strong>联合类型</strong>：</p><ul><li>零运行时代码生成</li><li>完美支持 <strong>Tree-shaking</strong></li><li>类型安全和自动补全</li><li>更简洁的语法</li></ul><h3 id="as-const-object" tabindex="-1"><a class="header-anchor" href="#as-const-object"><span><code>as const</code> 对象</span></a></h3>',3)),s("div",C,[s("pre",v,[s("code",m,[i[66]||(i[66]=s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#A0ADA0","--shiki-dark":"#758575DD"}},"// 代替枚举")],-1)),i[67]||(i[67]=a(`
`,-1)),s("span",f,[i[19]||(i[19]=s("span",{style:{"--shiki-light":"#AB5959","--shiki-dark":"#CB7676"}},"const ",-1)),s("span",b,[l(t,{class:"twoslash-hover","popper-class":"shiki twoslash-floating vp-copy-ignore vp-code",theme:"twoslash"},{popper:h(({})=>[...i[17]||(i[17]=[s("span",{class:"twoslash-popup-container vp-copy-ignore"},[s("code",{class:"twoslash-popup-code"},[s("pre",{class:"shiki shiki-themes vitesse-light vitesse-dark",style:{"--shiki-light":"#393a34","--shiki-dark":"#dbd7caee","--shiki-light-bg":"#ffffff","--shiki-dark-bg":"#121212"},tabindex:"0"},[s("code",null,[s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#AB5959","--shiki-dark":"#CB7676"}},"const "),s("span",{style:{"--shiki-light":"#B07D48","--shiki-dark":"#BD976A"}},"Status"),s("span",{style:{"--shiki-light":"#999999","--shiki-dark":"#666666"}},": {")]),a(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#AB5959","--shiki-dark":"#CB7676"}},"    readonly"),s("span",{style:{"--shiki-light":"#B07D48","--shiki-dark":"#BD976A"}}," Pending"),s("span",{style:{"--shiki-light":"#999999","--shiki-dark":"#666666"}},": "),s("span",{style:{"--shiki-light":"#B5695977","--shiki-dark":"#C98A7D77"}},'"'),s("span",{style:{"--shiki-light":"#B56959","--shiki-dark":"#C98A7D"}},"PENDING"),s("span",{style:{"--shiki-light":"#B5695977","--shiki-dark":"#C98A7D77"}},'"'),s("span",{style:{"--shiki-light":"#999999","--shiki-dark":"#666666"}},";")]),a(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#AB5959","--shiki-dark":"#CB7676"}},"    readonly"),s("span",{style:{"--shiki-light":"#B07D48","--shiki-dark":"#BD976A"}}," Fulfilled"),s("span",{style:{"--shiki-light":"#999999","--shiki-dark":"#666666"}},": "),s("span",{style:{"--shiki-light":"#B5695977","--shiki-dark":"#C98A7D77"}},'"'),s("span",{style:{"--shiki-light":"#B56959","--shiki-dark":"#C98A7D"}},"FULFILLED"),s("span",{style:{"--shiki-light":"#B5695977","--shiki-dark":"#C98A7D77"}},'"'),s("span",{style:{"--shiki-light":"#999999","--shiki-dark":"#666666"}},";")]),a(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#AB5959","--shiki-dark":"#CB7676"}},"    readonly"),s("span",{style:{"--shiki-light":"#B07D48","--shiki-dark":"#BD976A"}}," Rejected"),s("span",{style:{"--shiki-light":"#999999","--shiki-dark":"#666666"}},": "),s("span",{style:{"--shiki-light":"#B5695977","--shiki-dark":"#C98A7D77"}},'"'),s("span",{style:{"--shiki-light":"#B56959","--shiki-dark":"#C98A7D"}},"REJECTED"),s("span",{style:{"--shiki-light":"#B5695977","--shiki-dark":"#C98A7D77"}},'"'),s("span",{style:{"--shiki-light":"#999999","--shiki-dark":"#666666"}},";")]),a(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#999999","--shiki-dark":"#666666"}},"}")])])])])],-1)])]),default:h(()=>[i[18]||(i[18]=s("span",null,"Status",-1))]),_:1})]),i[20]||(i[20]=s("span",{style:{"--shiki-light":"#999999","--shiki-dark":"#666666"}}," =",-1)),i[21]||(i[21]=s("span",{style:{"--shiki-light":"#999999","--shiki-dark":"#666666"}}," {",-1))]),i[68]||(i[68]=a(`
`,-1)),s("span",w,[i[24]||(i[24]=s("span",{style:{"--shiki-light":"#998418","--shiki-dark":"#B8A965"}},"  ",-1)),s("span",E,[l(t,{class:"twoslash-hover","popper-class":"shiki twoslash-floating vp-copy-ignore vp-code",theme:"twoslash"},{popper:h(({})=>[...i[22]||(i[22]=[s("span",{class:"twoslash-popup-container vp-copy-ignore"},[s("code",{class:"twoslash-popup-code"},[s("span",{style:{"--shiki-light":"#AB5959","--shiki-dark":"#CB7676"}},"type"),s("span",{style:{"--shiki-light":"#2E8F82","--shiki-dark":"#5DA994"}}," Pending"),s("span",{style:{"--shiki-light":"#393A34","--shiki-dark":"#DBD7CAEE"}},': "PENDING"')])],-1)])]),default:h(()=>[i[23]||(i[23]=s("span",null,"Pending",-1))]),_:1})]),i[25]||(i[25]=n('<span style="--shiki-light:#999999;--shiki-dark:#666666;">: </span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&#39;</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">PENDING</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&#39;</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">,</span>',5))]),i[69]||(i[69]=a(`
`,-1)),s("span",F,[i[28]||(i[28]=s("span",{style:{"--shiki-light":"#998418","--shiki-dark":"#B8A965"}},"  ",-1)),s("span",S,[l(t,{class:"twoslash-hover","popper-class":"shiki twoslash-floating vp-copy-ignore vp-code",theme:"twoslash"},{popper:h(({})=>[...i[26]||(i[26]=[s("span",{class:"twoslash-popup-container vp-copy-ignore"},[s("code",{class:"twoslash-popup-code"},[s("span",{style:{"--shiki-light":"#AB5959","--shiki-dark":"#CB7676"}},"type"),s("span",{style:{"--shiki-light":"#2E8F82","--shiki-dark":"#5DA994"}}," Fulfilled"),s("span",{style:{"--shiki-light":"#393A34","--shiki-dark":"#DBD7CAEE"}},': "FULFILLED"')])],-1)])]),default:h(()=>[i[27]||(i[27]=s("span",null,"Fulfilled",-1))]),_:1})]),i[29]||(i[29]=n('<span style="--shiki-light:#999999;--shiki-dark:#666666;">: </span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&#39;</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">FULFILLED</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&#39;</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">,</span>',5))]),i[70]||(i[70]=a(`
`,-1)),s("span",T,[i[32]||(i[32]=s("span",{style:{"--shiki-light":"#998418","--shiki-dark":"#B8A965"}},"  ",-1)),s("span",N,[l(t,{class:"twoslash-hover","popper-class":"shiki twoslash-floating vp-copy-ignore vp-code",theme:"twoslash"},{popper:h(({})=>[...i[30]||(i[30]=[s("span",{class:"twoslash-popup-container vp-copy-ignore"},[s("code",{class:"twoslash-popup-code"},[s("span",{style:{"--shiki-light":"#AB5959","--shiki-dark":"#CB7676"}},"type"),s("span",{style:{"--shiki-light":"#2E8F82","--shiki-dark":"#5DA994"}}," Rejected"),s("span",{style:{"--shiki-light":"#393A34","--shiki-dark":"#DBD7CAEE"}},': "REJECTED"')])],-1)])]),default:h(()=>[i[31]||(i[31]=s("span",null,"Rejected",-1))]),_:1})]),i[33]||(i[33]=n('<span style="--shiki-light:#999999;--shiki-dark:#666666;">: </span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&#39;</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">REJECTED</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&#39;</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">,</span>',5))]),i[71]||(i[71]=a(`
`,-1)),s("span",x,[i[36]||(i[36]=s("span",{style:{"--shiki-light":"#999999","--shiki-dark":"#666666"}},"}",-1)),i[37]||(i[37]=s("span",{style:{"--shiki-light":"#1E754F","--shiki-dark":"#4D9375"}}," as",-1)),i[38]||(i[38]=s("span",{style:{"--shiki-light":"#AB5959","--shiki-dark":"#CB7676"}}," ",-1)),s("span",L,[l(t,{class:"twoslash-hover","popper-class":"shiki twoslash-floating vp-copy-ignore vp-code",theme:"twoslash"},{popper:h(({})=>[...i[34]||(i[34]=[s("span",{class:"twoslash-popup-container vp-copy-ignore"},[s("code",{class:"twoslash-popup-code"},[s("pre",{class:"shiki shiki-themes vitesse-light vitesse-dark",style:{"--shiki-light":"#393a34","--shiki-dark":"#dbd7caee","--shiki-light-bg":"#ffffff","--shiki-dark-bg":"#121212"},tabindex:"0"},[s("code",null,[s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#AB5959","--shiki-dark":"#CB7676"}},"type"),s("span",{style:{"--shiki-light":"#2E8F82","--shiki-dark":"#5DA994"}}," const"),s("span",{style:{"--shiki-light":"#999999","--shiki-dark":"#666666"}}," ="),s("span",{style:{"--shiki-light":"#999999","--shiki-dark":"#666666"}}," {")]),a(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#AB5959","--shiki-dark":"#CB7676"}},"    readonly"),s("span",{style:{"--shiki-light":"#B07D48","--shiki-dark":"#BD976A"}}," Pending"),s("span",{style:{"--shiki-light":"#999999","--shiki-dark":"#666666"}},": "),s("span",{style:{"--shiki-light":"#B5695977","--shiki-dark":"#C98A7D77"}},'"'),s("span",{style:{"--shiki-light":"#B56959","--shiki-dark":"#C98A7D"}},"PENDING"),s("span",{style:{"--shiki-light":"#B5695977","--shiki-dark":"#C98A7D77"}},'"'),s("span",{style:{"--shiki-light":"#999999","--shiki-dark":"#666666"}},";")]),a(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#AB5959","--shiki-dark":"#CB7676"}},"    readonly"),s("span",{style:{"--shiki-light":"#B07D48","--shiki-dark":"#BD976A"}}," Fulfilled"),s("span",{style:{"--shiki-light":"#999999","--shiki-dark":"#666666"}},": "),s("span",{style:{"--shiki-light":"#B5695977","--shiki-dark":"#C98A7D77"}},'"'),s("span",{style:{"--shiki-light":"#B56959","--shiki-dark":"#C98A7D"}},"FULFILLED"),s("span",{style:{"--shiki-light":"#B5695977","--shiki-dark":"#C98A7D77"}},'"'),s("span",{style:{"--shiki-light":"#999999","--shiki-dark":"#666666"}},";")]),a(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#AB5959","--shiki-dark":"#CB7676"}},"    readonly"),s("span",{style:{"--shiki-light":"#B07D48","--shiki-dark":"#BD976A"}}," Rejected"),s("span",{style:{"--shiki-light":"#999999","--shiki-dark":"#666666"}},": "),s("span",{style:{"--shiki-light":"#B5695977","--shiki-dark":"#C98A7D77"}},'"'),s("span",{style:{"--shiki-light":"#B56959","--shiki-dark":"#C98A7D"}},"REJECTED"),s("span",{style:{"--shiki-light":"#B5695977","--shiki-dark":"#C98A7D77"}},'"'),s("span",{style:{"--shiki-light":"#999999","--shiki-dark":"#666666"}},";")]),a(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#999999","--shiki-dark":"#666666"}},"}")])])])])],-1)])]),default:h(()=>[i[35]||(i[35]=s("span",null,"const",-1))]),_:1})])]),i[72]||(i[72]=a(`
`,-1)),i[73]||(i[73]=s("span",{class:"line"},null,-1)),i[74]||(i[74]=a(`
`,-1)),s("span",I,[i[45]||(i[45]=s("span",{style:{"--shiki-light":"#AB5959","--shiki-dark":"#CB7676"}},"type",-1)),i[46]||(i[46]=s("span",{style:{"--shiki-light":"#2E8F82","--shiki-dark":"#5DA994"}}," ",-1)),s("span",P,[l(t,{class:"twoslash-hover","popper-class":"shiki twoslash-floating vp-copy-ignore vp-code",theme:"twoslash-query",shown:!0},{popper:h(({})=>[...i[39]||(i[39]=[s("span",{class:"twoslash-popup-container vp-copy-ignore"},[s("div",{class:"twoslash-popup-arrow"}),s("code",{class:"twoslash-popup-code"},[s("span",{style:{"--shiki-light":"#AB5959","--shiki-dark":"#CB7676"}},"type"),s("span",{style:{"--shiki-light":"#2E8F82","--shiki-dark":"#5DA994"}}," Status"),s("span",{style:{"--shiki-light":"#999999","--shiki-dark":"#666666"}}," ="),s("span",{style:{"--shiki-light":"#B5695977","--shiki-dark":"#C98A7D77"}},' "'),s("span",{style:{"--shiki-light":"#B56959","--shiki-dark":"#C98A7D"}},"PENDING"),s("span",{style:{"--shiki-light":"#B5695977","--shiki-dark":"#C98A7D77"}},'"'),s("span",{style:{"--shiki-light":"#999999","--shiki-dark":"#666666"}}," |"),s("span",{style:{"--shiki-light":"#B5695977","--shiki-dark":"#C98A7D77"}},' "'),s("span",{style:{"--shiki-light":"#B56959","--shiki-dark":"#C98A7D"}},"FULFILLED"),s("span",{style:{"--shiki-light":"#B5695977","--shiki-dark":"#C98A7D77"}},'"'),s("span",{style:{"--shiki-light":"#999999","--shiki-dark":"#666666"}}," |"),s("span",{style:{"--shiki-light":"#B5695977","--shiki-dark":"#C98A7D77"}},' "'),s("span",{style:{"--shiki-light":"#B56959","--shiki-dark":"#C98A7D"}},"REJECTED"),s("span",{style:{"--shiki-light":"#B5695977","--shiki-dark":"#C98A7D77"}},'"')])],-1)])]),default:h(()=>[i[40]||(i[40]=s("span",null,"Status",-1))]),_:1})]),i[47]||(i[47]=s("span",{style:{"--shiki-light":"#999999","--shiki-dark":"#666666"}}," =",-1)),i[48]||(i[48]=s("span",{style:{"--shiki-light":"#AB5959","--shiki-dark":"#CB7676"}}," typeof",-1)),i[49]||(i[49]=s("span",{style:{"--shiki-light":"#B07D48","--shiki-dark":"#BD976A"}}," ",-1)),s("span",R,[l(t,{class:"twoslash-hover","popper-class":"shiki twoslash-floating vp-copy-ignore vp-code",theme:"twoslash"},{popper:h(({})=>[...i[41]||(i[41]=[s("span",{class:"twoslash-popup-container vp-copy-ignore"},[s("code",{class:"twoslash-popup-code"},[s("pre",{class:"shiki shiki-themes vitesse-light vitesse-dark",style:{"--shiki-light":"#393a34","--shiki-dark":"#dbd7caee","--shiki-light-bg":"#ffffff","--shiki-dark-bg":"#121212"},tabindex:"0"},[s("code",null,[s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#AB5959","--shiki-dark":"#CB7676"}},"const "),s("span",{style:{"--shiki-light":"#B07D48","--shiki-dark":"#BD976A"}},"Status"),s("span",{style:{"--shiki-light":"#999999","--shiki-dark":"#666666"}},": {")]),a(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#AB5959","--shiki-dark":"#CB7676"}},"    readonly"),s("span",{style:{"--shiki-light":"#B07D48","--shiki-dark":"#BD976A"}}," Pending"),s("span",{style:{"--shiki-light":"#999999","--shiki-dark":"#666666"}},": "),s("span",{style:{"--shiki-light":"#B5695977","--shiki-dark":"#C98A7D77"}},'"'),s("span",{style:{"--shiki-light":"#B56959","--shiki-dark":"#C98A7D"}},"PENDING"),s("span",{style:{"--shiki-light":"#B5695977","--shiki-dark":"#C98A7D77"}},'"'),s("span",{style:{"--shiki-light":"#999999","--shiki-dark":"#666666"}},";")]),a(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#AB5959","--shiki-dark":"#CB7676"}},"    readonly"),s("span",{style:{"--shiki-light":"#B07D48","--shiki-dark":"#BD976A"}}," Fulfilled"),s("span",{style:{"--shiki-light":"#999999","--shiki-dark":"#666666"}},": "),s("span",{style:{"--shiki-light":"#B5695977","--shiki-dark":"#C98A7D77"}},'"'),s("span",{style:{"--shiki-light":"#B56959","--shiki-dark":"#C98A7D"}},"FULFILLED"),s("span",{style:{"--shiki-light":"#B5695977","--shiki-dark":"#C98A7D77"}},'"'),s("span",{style:{"--shiki-light":"#999999","--shiki-dark":"#666666"}},";")]),a(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#AB5959","--shiki-dark":"#CB7676"}},"    readonly"),s("span",{style:{"--shiki-light":"#B07D48","--shiki-dark":"#BD976A"}}," Rejected"),s("span",{style:{"--shiki-light":"#999999","--shiki-dark":"#666666"}},": "),s("span",{style:{"--shiki-light":"#B5695977","--shiki-dark":"#C98A7D77"}},'"'),s("span",{style:{"--shiki-light":"#B56959","--shiki-dark":"#C98A7D"}},"REJECTED"),s("span",{style:{"--shiki-light":"#B5695977","--shiki-dark":"#C98A7D77"}},'"'),s("span",{style:{"--shiki-light":"#999999","--shiki-dark":"#666666"}},";")]),a(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#999999","--shiki-dark":"#666666"}},"}")])])])])],-1)])]),default:h(()=>[i[42]||(i[42]=s("span",null,"Status",-1))]),_:1})]),i[50]||(i[50]=s("span",{style:{"--shiki-light":"#999999","--shiki-dark":"#666666"}},"[",-1)),i[51]||(i[51]=s("span",{style:{"--shiki-light":"#B07D48","--shiki-dark":"#BD976A"}},"keyof",-1)),i[52]||(i[52]=s("span",{style:{"--shiki-light":"#AB5959","--shiki-dark":"#CB7676"}}," typeof",-1)),i[53]||(i[53]=s("span",{style:{"--shiki-light":"#B07D48","--shiki-dark":"#BD976A"}}," ",-1)),s("span",J,[l(t,{class:"twoslash-hover","popper-class":"shiki twoslash-floating vp-copy-ignore vp-code",theme:"twoslash"},{popper:h(({})=>[...i[43]||(i[43]=[s("span",{class:"twoslash-popup-container vp-copy-ignore"},[s("code",{class:"twoslash-popup-code"},[s("pre",{class:"shiki shiki-themes vitesse-light vitesse-dark",style:{"--shiki-light":"#393a34","--shiki-dark":"#dbd7caee","--shiki-light-bg":"#ffffff","--shiki-dark-bg":"#121212"},tabindex:"0"},[s("code",null,[s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#AB5959","--shiki-dark":"#CB7676"}},"const "),s("span",{style:{"--shiki-light":"#B07D48","--shiki-dark":"#BD976A"}},"Status"),s("span",{style:{"--shiki-light":"#999999","--shiki-dark":"#666666"}},": {")]),a(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#AB5959","--shiki-dark":"#CB7676"}},"    readonly"),s("span",{style:{"--shiki-light":"#B07D48","--shiki-dark":"#BD976A"}}," Pending"),s("span",{style:{"--shiki-light":"#999999","--shiki-dark":"#666666"}},": "),s("span",{style:{"--shiki-light":"#B5695977","--shiki-dark":"#C98A7D77"}},'"'),s("span",{style:{"--shiki-light":"#B56959","--shiki-dark":"#C98A7D"}},"PENDING"),s("span",{style:{"--shiki-light":"#B5695977","--shiki-dark":"#C98A7D77"}},'"'),s("span",{style:{"--shiki-light":"#999999","--shiki-dark":"#666666"}},";")]),a(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#AB5959","--shiki-dark":"#CB7676"}},"    readonly"),s("span",{style:{"--shiki-light":"#B07D48","--shiki-dark":"#BD976A"}}," Fulfilled"),s("span",{style:{"--shiki-light":"#999999","--shiki-dark":"#666666"}},": "),s("span",{style:{"--shiki-light":"#B5695977","--shiki-dark":"#C98A7D77"}},'"'),s("span",{style:{"--shiki-light":"#B56959","--shiki-dark":"#C98A7D"}},"FULFILLED"),s("span",{style:{"--shiki-light":"#B5695977","--shiki-dark":"#C98A7D77"}},'"'),s("span",{style:{"--shiki-light":"#999999","--shiki-dark":"#666666"}},";")]),a(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#AB5959","--shiki-dark":"#CB7676"}},"    readonly"),s("span",{style:{"--shiki-light":"#B07D48","--shiki-dark":"#BD976A"}}," Rejected"),s("span",{style:{"--shiki-light":"#999999","--shiki-dark":"#666666"}},": "),s("span",{style:{"--shiki-light":"#B5695977","--shiki-dark":"#C98A7D77"}},'"'),s("span",{style:{"--shiki-light":"#B56959","--shiki-dark":"#C98A7D"}},"REJECTED"),s("span",{style:{"--shiki-light":"#B5695977","--shiki-dark":"#C98A7D77"}},'"'),s("span",{style:{"--shiki-light":"#999999","--shiki-dark":"#666666"}},";")]),a(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#999999","--shiki-dark":"#666666"}},"}")])])])])],-1)])]),default:h(()=>[i[44]||(i[44]=s("span",null,"Status",-1))]),_:1})]),i[54]||(i[54]=s("span",{style:{"--shiki-light":"#999999","--shiki-dark":"#666666"}},"]",-1))]),i[75]||(i[75]=n(`
<span class="line"><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;">//</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;">// 使用</span></span>
`,7)),s("span",G,[i[61]||(i[61]=s("span",{style:{"--shiki-light":"#AB5959","--shiki-dark":"#CB7676"}},"const ",-1)),s("span",j,[l(t,{class:"twoslash-hover","popper-class":"shiki twoslash-floating vp-copy-ignore vp-code",theme:"twoslash"},{popper:h(({})=>[...i[55]||(i[55]=[s("span",{class:"twoslash-popup-container vp-copy-ignore"},[s("code",{class:"twoslash-popup-code"},[s("span",{style:{"--shiki-light":"#AB5959","--shiki-dark":"#CB7676"}},"const "),s("span",{style:{"--shiki-light":"#B07D48","--shiki-dark":"#BD976A"}},"current"),s("span",{style:{"--shiki-light":"#999999","--shiki-dark":"#666666"}},": "),s("span",{style:{"--shiki-light":"#B5695977","--shiki-dark":"#C98A7D77"}},'"'),s("span",{style:{"--shiki-light":"#B56959","--shiki-dark":"#C98A7D"}},"PENDING"),s("span",{style:{"--shiki-light":"#B5695977","--shiki-dark":"#C98A7D77"}},'"')])],-1)])]),default:h(()=>[i[56]||(i[56]=s("span",null,"current",-1))]),_:1})]),i[62]||(i[62]=s("span",{style:{"--shiki-light":"#999999","--shiki-dark":"#666666"}}," =",-1)),i[63]||(i[63]=s("span",{style:{"--shiki-light":"#B07D48","--shiki-dark":"#BD976A"}}," ",-1)),s("span",z,[l(t,{class:"twoslash-hover","popper-class":"shiki twoslash-floating vp-copy-ignore vp-code",theme:"twoslash"},{popper:h(({})=>[...i[57]||(i[57]=[s("span",{class:"twoslash-popup-container vp-copy-ignore"},[s("code",{class:"twoslash-popup-code"},[s("pre",{class:"shiki shiki-themes vitesse-light vitesse-dark",style:{"--shiki-light":"#393a34","--shiki-dark":"#dbd7caee","--shiki-light-bg":"#ffffff","--shiki-dark-bg":"#121212"},tabindex:"0"},[s("code",null,[s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#AB5959","--shiki-dark":"#CB7676"}},"const "),s("span",{style:{"--shiki-light":"#B07D48","--shiki-dark":"#BD976A"}},"Status"),s("span",{style:{"--shiki-light":"#999999","--shiki-dark":"#666666"}},": {")]),a(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#AB5959","--shiki-dark":"#CB7676"}},"    readonly"),s("span",{style:{"--shiki-light":"#B07D48","--shiki-dark":"#BD976A"}}," Pending"),s("span",{style:{"--shiki-light":"#999999","--shiki-dark":"#666666"}},": "),s("span",{style:{"--shiki-light":"#B5695977","--shiki-dark":"#C98A7D77"}},'"'),s("span",{style:{"--shiki-light":"#B56959","--shiki-dark":"#C98A7D"}},"PENDING"),s("span",{style:{"--shiki-light":"#B5695977","--shiki-dark":"#C98A7D77"}},'"'),s("span",{style:{"--shiki-light":"#999999","--shiki-dark":"#666666"}},";")]),a(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#AB5959","--shiki-dark":"#CB7676"}},"    readonly"),s("span",{style:{"--shiki-light":"#B07D48","--shiki-dark":"#BD976A"}}," Fulfilled"),s("span",{style:{"--shiki-light":"#999999","--shiki-dark":"#666666"}},": "),s("span",{style:{"--shiki-light":"#B5695977","--shiki-dark":"#C98A7D77"}},'"'),s("span",{style:{"--shiki-light":"#B56959","--shiki-dark":"#C98A7D"}},"FULFILLED"),s("span",{style:{"--shiki-light":"#B5695977","--shiki-dark":"#C98A7D77"}},'"'),s("span",{style:{"--shiki-light":"#999999","--shiki-dark":"#666666"}},";")]),a(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#AB5959","--shiki-dark":"#CB7676"}},"    readonly"),s("span",{style:{"--shiki-light":"#B07D48","--shiki-dark":"#BD976A"}}," Rejected"),s("span",{style:{"--shiki-light":"#999999","--shiki-dark":"#666666"}},": "),s("span",{style:{"--shiki-light":"#B5695977","--shiki-dark":"#C98A7D77"}},'"'),s("span",{style:{"--shiki-light":"#B56959","--shiki-dark":"#C98A7D"}},"REJECTED"),s("span",{style:{"--shiki-light":"#B5695977","--shiki-dark":"#C98A7D77"}},'"'),s("span",{style:{"--shiki-light":"#999999","--shiki-dark":"#666666"}},";")]),a(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#999999","--shiki-dark":"#666666"}},"}")])])])])],-1)])]),default:h(()=>[i[58]||(i[58]=s("span",null,"Status",-1))]),_:1})]),i[64]||(i[64]=s("span",{style:{"--shiki-light":"#999999","--shiki-dark":"#666666"}},".",-1)),s("span",U,[l(t,{class:"twoslash-hover","popper-class":"shiki twoslash-floating vp-copy-ignore vp-code",theme:"twoslash"},{popper:h(({})=>[...i[59]||(i[59]=[s("span",{class:"twoslash-popup-container vp-copy-ignore"},[s("code",{class:"twoslash-popup-code"},[s("span",{style:{"--shiki-light":"#AB5959","--shiki-dark":"#CB7676"}},"type"),s("span",{style:{"--shiki-light":"#2E8F82","--shiki-dark":"#5DA994"}}," Pending"),s("span",{style:{"--shiki-light":"#393A34","--shiki-dark":"#DBD7CAEE"}},': "PENDING"')])],-1)])]),default:h(()=>[i[60]||(i[60]=s("span",null,"Pending",-1))]),_:1})]),i[65]||(i[65]=s("span",{style:{"--shiki-light":"#A0ADA0","--shiki-dark":"#758575DD"}}," // 类型安全，且生成简单对象",-1))])])])]),i[78]||(i[78]=n('<p>这种方法结合了运行时值和类型推断的优势，同时保持低开销。</p><h3 id="symbol" tabindex="-1"><a class="header-anchor" href="#symbol"><span>Symbol （特定场景）</span></a></h3><p>对于需要唯一标识的场景，可以使用 <code>Symbol</code>，但需注意兼容性和内存开销。</p><h2 id="use-cases" tabindex="-1"><a class="header-anchor" href="#use-cases"><span>枚举的适用场景（如果有的话）</span></a></h2><p>虽然强烈建议避免使用枚举，但在极少数情况下，它们可能仍有合理性：</p><ul><li><strong>与遗留代码的深度集成</strong>：如果团队已有大量基于枚举的代码，全面重构的成本可能过高。</li><li><strong>需要运行时反射</strong>：如果你确实需要将枚举作为值进行遍历或序列化，枚举可能比联合类型更方便。</li></ul><p>即便如此，也建议对这些场景进行严格评估，并考虑逐步迁移到更轻量的方案。</p><h2 id="migration-steps" tabindex="-1"><a class="header-anchor" href="#migration-steps"><span>迁移步骤</span></a></h2><div class="vp-steps"><ul><li><p><strong>评估现有枚举</strong></p><p>列出项目中所有的枚举定义，评估它们的使用频率和影响范围。</p></li><li><p><strong>替换为联合类型</strong></p><p>对于大多数场景，直接将枚举值提取为字符串字面量的联合类型。</p></li><li><p><strong>使用 as const 对象</strong></p><p>局搜索并替换所有旧枚举的使用点。</p></li><li><p><strong>验证打包结果</strong> 使用 source-map-explorer 或类似工具确认 bundle 体积是否减小。</p></li></ul></div><h2 id="summary" tabindex="-1"><a class="header-anchor" href="#summary"><span>总结</span></a></h2><p>TypeScript 枚举虽然初期使用便捷，但它们带来了 <strong>运行时开销</strong>、<strong>树摇不兼容</strong> 以及 <strong>非标准语法</strong> 等问题。 在现代前端开发中，使用 <strong>联合类型</strong> 和 <strong><code>as const</code> 对象</strong> 是更轻量、更类型安全且更符合 JavaScript 标准的做法。</p><p>在考虑使用枚举时，问问自己：“我真的需要运行时值吗？” 如果答案是否定的，果断拥抱联合类型吧！ 你的代码体积、构建速度和团队维护性都会因此受益。</p><h2 id="参考" tabindex="-1"><a class="header-anchor" href="#参考"><span>参考</span></a></h2><ul><li><a href="https://medium.com/@hanyikoh/why-you-should-avoid-using-enum-in-typescript-487cc79dceb6" target="_blank" rel="noopener noreferrer">为什么你应该避免在 TypeScript 中使用枚举</a></li><li><a href="https://2ality.com/2025/01/typescript-enum-patterns.html" target="_blank" rel="noopener noreferrer">TypeScript 枚举：用例和替代方案</a></li><li><a href="https://dev.to/rohtashsethi/why-typescript-enums-increase-angular-bundle-size-and-how-to-fix-it-1908" target="_blank" rel="noopener noreferrer">为什么 TypeScript 枚举会增加 Angular 包体积</a></li><li><a href="https://stackoverflow.com/questions/68720866/why-does-webpack-5-include-my-unused-typescript-enum-exports-even-when-tree-sha" target="_blank" rel="noopener noreferrer">Webpack 5 为何包含未使用的 TypeScript 枚举</a></li></ul>',14))])}const Z=k(d,[["render",V]]),M=JSON.parse('{"path":"/article/wu41neza/","title":"为什么你应该停止使用 enum | 博客","lang":"zh-CN","frontmatter":{"title":"为什么你应该停止使用 enum","createTime":"2026/01/06 15:33:00","permalink":"/article/wu41neza/","tags":["typescript"],"description":"什么是 enum ？ 在 TypeScript 中，enum 是一种用于定义一组命名常量的数据类型。它看起来很像其他语言中的枚举，例如 C# 或 Java： 枚举被设计为既能作为 类型 使用，也能作为 值 使用，这让它们看起来很方便。 然而，在 TypeScript 项目中，尤其是现代前端开发中，枚举并不是最佳实践。 接下来，我们将深入探讨为什么你应该...","head":[["script",{"type":"application/ld+json"},"{\\"@context\\":\\"https://schema.org\\",\\"@type\\":\\"Article\\",\\"headline\\":\\"为什么你应该停止使用 enum\\",\\"image\\":[\\"\\"],\\"dateModified\\":\\"2026-01-08T07:53:19.000Z\\",\\"author\\":[]}"],["meta",{"property":"og:url","content":"https://pengzhanbo.cn/article/wu41neza/"}],["meta",{"property":"og:site_name","content":"鹏展博"}],["meta",{"property":"og:title","content":"为什么你应该停止使用 enum"}],["meta",{"property":"og:description","content":"什么是 enum ？ 在 TypeScript 中，enum 是一种用于定义一组命名常量的数据类型。它看起来很像其他语言中的枚举，例如 C# 或 Java： 枚举被设计为既能作为 类型 使用，也能作为 值 使用，这让它们看起来很方便。 然而，在 TypeScript 项目中，尤其是现代前端开发中，枚举并不是最佳实践。 接下来，我们将深入探讨为什么你应该..."}],["meta",{"property":"og:type","content":"article"}],["meta",{"property":"og:locale","content":"zh-CN"}],["meta",{"property":"og:updated_time","content":"2026-01-08T07:53:19.000Z"}],["meta",{"property":"article:tag","content":"typescript"}],["meta",{"property":"article:modified_time","content":"2026-01-08T07:53:19.000Z"}]]},"readingTime":{"minutes":5.24,"words":1572},"git":{"createdTime":1767858799000,"updatedTime":1767858799000,"contributors":[{"name":"pengzhanbo","username":"pengzhanbo","email":"volodymyr@foxmail.com","commits":1,"avatar":"https://avatars.githubusercontent.com/pengzhanbo?v=4","url":"https://github.com/pengzhanbo"}]},"autoDesc":true,"filePathRelative":"blog/1.前端/12.TypeScript/停止使用 enum.md","headers":[],"categoryList":[{"id":"72e6d5","sort":1,"name":"前端"},{"id":"afb227","sort":12,"name":"TypeScript"}]}');export{Z as comp,M as data};
