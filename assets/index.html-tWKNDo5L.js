import{_ as t,c as e,e as i,a as n,d as a,b as l,r as k,o as p}from"./app-D7KDYWdB.js";const r={};function g(d,s){const h=k("VPIcon");return p(),e("div",null,[s[2]||(s[2]=i(`<p>在团队协作开发中，Git 分支合并策略的选择直接影响代码库的整洁度和可维护性。本文将深入解析 <strong>Git Squash Merge</strong>，并与普通 Merge 和 Rebase Merge 进行详细对比，帮助你选择最适合项目的合并策略。</p><h2 id="什么是-git-squash-merge" tabindex="-1"><a class="header-anchor" href="#什么是-git-squash-merge"><span>什么是 Git Squash Merge？</span></a></h2><p>Git Squash Merge 是一种特殊的合并方式，它将<strong>多个提交压缩成一个提交</strong>后再合并到目标分支。这种策略特别适用于功能分支开发完成后，希望保持主分支历史线性整洁的场景。</p><h3 id="基本语法" tabindex="-1"><a class="header-anchor" href="#基本语法"><span>基本语法</span></a></h3><div class="language-bash" data-highlighter="shiki" data-ext="bash" style="--shiki-light:#393a34;--shiki-dark:#dbd7caee;--shiki-light-bg:#ffffff;--shiki-dark-bg:#121212;"><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code"><code class="language-bash"><span class="line"><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;"># 切换到目标分支（如 main）</span></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">git</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> checkout</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> main</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;"># 执行 squash merge</span></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">git</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> merge</span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;"> --squash</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> feature-branch</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;"># 提交压缩后的更改</span></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">git</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> commit</span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;"> -m</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;"> &quot;</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">feat: 添加用户认证功能</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&quot;</span></span></code></pre></div><h3 id="实际工作流程示例" tabindex="-1"><a class="header-anchor" href="#实际工作流程示例"><span>实际工作流程示例</span></a></h3><div class="vp-steps"><ul><li><p><strong>创建功能分支并开发</strong></p><div class="language-bash" data-highlighter="shiki" data-ext="bash" style="--shiki-light:#393a34;--shiki-dark:#dbd7caee;--shiki-light-bg:#ffffff;--shiki-dark-bg:#121212;"><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code"><code class="language-bash"><span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">git</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> checkout</span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;"> -b</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> feature-auth</span></span>
<span class="line"><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;"># 进行多次提交</span></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">git</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> commit</span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;"> -m</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;"> &quot;</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">feat: 添加登录表单</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&quot;</span></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">git</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> commit</span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;"> -m</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;"> &quot;</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">feat: 实现 JWT 认证</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&quot;</span></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">git</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> commit</span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;"> -m</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;"> &quot;</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">fix: 修复登录状态持久化问题</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&quot;</span></span></code></pre></div></li><li><p><strong>准备合并到主分支</strong></p><div class="language-bash" data-highlighter="shiki" data-ext="bash" style="--shiki-light:#393a34;--shiki-dark:#dbd7caee;--shiki-light-bg:#ffffff;--shiki-dark-bg:#121212;"><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code"><code class="language-bash"><span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">git</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> checkout</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> main</span></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">git</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> merge</span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;"> --squash</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> feature-auth</span></span></code></pre></div></li><li><p><strong>查看状态并提交</strong></p><div class="language-bash" data-highlighter="shiki" data-ext="bash" style="--shiki-light:#393a34;--shiki-dark:#dbd7caee;--shiki-light-bg:#ffffff;--shiki-dark-bg:#121212;"><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code"><code class="language-bash"><span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">git</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> status</span><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;">  # 显示所有更改已暂存</span></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">git</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> commit</span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;"> -m</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;"> &quot;</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">feat: 完整用户认证功能</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&quot;</span></span></code></pre></div></li></ul></div><h2 id="三种合并策略的深度对比" tabindex="-1"><a class="header-anchor" href="#三种合并策略的深度对比"><span>三种合并策略的深度对比</span></a></h2><h3 id="_1-普通-merge-git-merge" tabindex="-1"><a class="header-anchor" href="#_1-普通-merge-git-merge"><span>1. 普通 Merge（<code>git merge</code>）</span></a></h3><p>普通 Merge 是最直接的合并方式，会创建一个<strong>新的合并提交</strong>，保留分支的完整历史。</p><div class="language-bash" data-highlighter="shiki" data-ext="bash" style="--shiki-light:#393a34;--shiki-dark:#dbd7caee;--shiki-light-bg:#ffffff;--shiki-dark-bg:#121212;"><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code"><code class="language-bash"><span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">git</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> checkout</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> main</span></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">git</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> merge</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> feature-branch</span></span></code></pre></div><p><strong>历史记录效果：</strong></p><div class="language-bash" data-highlighter="shiki" data-ext="bash" style="--shiki-light:#393a34;--shiki-dark:#dbd7caee;--shiki-light-bg:#ffffff;--shiki-dark-bg:#121212;"><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code"><code class="language-bash"><span class="line"><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;">*</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">   a1b2c3d (</span><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">main</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">) Merge branch </span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&#39;</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">feature-branch</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&#39;</span></span>
<span class="line"><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;">|</span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;">\\</span></span>
<span class="line"><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;">|</span><span style="--shiki-light:#59873A;--shiki-dark:#80A665;"> *</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> d4e5f6g</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> feat:</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> 功能C</span></span>
<span class="line"><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;">|</span><span style="--shiki-light:#59873A;--shiki-dark:#80A665;"> *</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> e7f8h9i</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> feat:</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> 功能B</span></span>
<span class="line"><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;">|</span><span style="--shiki-light:#59873A;--shiki-dark:#80A665;"> *</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> f0g1h2j</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> feat:</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> 功能A</span></span>
<span class="line"><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;">|</span><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">/</span></span>
<span class="line"><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;">*</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;"> k3l4m5n 之前的提交</span></span></code></pre></div><p><strong>优点：</strong></p><ul><li>完整保留开发历史</li><li>便于追踪每个功能的详细演进过程</li><li>合并冲突处理相对简单</li></ul><p><strong>缺点：</strong></p><ul><li>主分支历史可能变得冗长复杂</li><li>对于小型功能，多个提交可能显得冗余</li></ul><div class="hint-container info"><p class="hint-container-title">适用场景</p><ul><li>需要完整审计轨迹的大型项目</li><li>长期存在的功能分支</li><li>开源项目，需要透明展示贡献者的工作流程</li></ul></div><h3 id="_2-rebase-merge-git-rebase" tabindex="-1"><a class="header-anchor" href="#_2-rebase-merge-git-rebase"><span>2. Rebase Merge（<code>git rebase</code>）</span></a></h3><p>Rebase 通过重新应用提交来重写历史，创建线性的提交序列。</p><div class="language-bash" data-highlighter="shiki" data-ext="bash" style="--shiki-light:#393a34;--shiki-dark:#dbd7caee;--shiki-light-bg:#ffffff;--shiki-dark-bg:#121212;"><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code"><code class="language-bash"><span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">git</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> checkout</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> feature-branch</span></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">git</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> rebase</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> main</span></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">git</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> checkout</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> main</span></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">git</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> merge</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> feature-branch</span><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;">  # 快进合并</span></span></code></pre></div><p><strong>历史记录效果：</strong></p><div class="language-bash" data-highlighter="shiki" data-ext="bash" style="--shiki-light:#393a34;--shiki-dark:#dbd7caee;--shiki-light-bg:#ffffff;--shiki-dark-bg:#121212;"><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code"><code class="language-bash"><span class="line"><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;">*</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;"> m8n9o0p (</span><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">main</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">) feat: 功能C</span></span>
<span class="line"><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;">*</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;"> l5m6n7o feat: 功能B</span></span>
<span class="line"><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;">*</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;"> j2k3l4m feat: 功能A</span></span>
<span class="line"><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;">*</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;"> k3l4m5n 之前的提交</span></span></code></pre></div><p><strong>优点：</strong></p><ul><li>创建干净、线性的历史</li><li>避免不必要的合并提交</li><li>更容易使用 <code>git bisect</code> 进行问题定位</li></ul><p><strong>缺点：</strong></p><ul><li>重写历史，可能影响团队协作</li><li>冲突解决可能更复杂（需要在每个重放提交时解决）</li><li>不适合已推送到远程的分支</li></ul><div class="hint-container warning"><p class="hint-container-title">注意事项</p><p>Rebase 会重写提交历史，<mark class="warning">不要对已共享的分支使用 rebase</mark>，这会给协作者带来严重困扰。</p></div><h3 id="_3-squash-merge-git-merge-squash" tabindex="-1"><a class="header-anchor" href="#_3-squash-merge-git-merge-squash"><span>3. Squash Merge（<code>git merge --squash</code>）</span></a></h3><p>Squash Merge 结合了两者的优点：保留功能分支的详细开发历史，同时在主分支上保持整洁。</p><p><strong>历史记录效果：</strong></p><div class="language-bash" data-highlighter="shiki" data-ext="bash" style="--shiki-light:#393a34;--shiki-dark:#dbd7caee;--shiki-light-bg:#ffffff;--shiki-dark-bg:#121212;"><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code"><code class="language-bash"><span class="line"><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;">*</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;"> x9y0z1a (</span><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">main</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">) feat: 完整用户认证功能</span></span>
<span class="line"><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;">*</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;"> k3l4m5n 之前的提交</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;"># 功能分支仍然保留完整历史</span></span>
<span class="line"><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;">*</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;"> d4e5f6g (</span><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">feature-auth</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">) fix: 修复登录状态持久化问题</span></span>
<span class="line"><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;">*</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;"> e7f8h9i feat: 实现 JWT 认证</span></span>
<span class="line"><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;">*</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;"> f0g1h2j feat: 添加登录表单</span></span>
<span class="line"><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;">*</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;"> k3l4m5n 之前的提交</span></span></code></pre></div><p><strong>优点：</strong></p><ul><li>主分支历史保持简洁清晰</li><li>功能分支仍保留完整开发过程</li><li>便于代码审查和问题追踪</li></ul><p><strong>缺点：</strong></p><ul><li>丢失了主分支上的详细开发步骤</li><li>需要手动编写有意义的提交信息</li><li><code>git blame</code> 可能不够精确</li></ul>`,36)),n("p",null,[s[0]||(s[0]=a(":",-1)),l(h,{provider:"iconify",name:"tips",extra:""}),s[1]||(s[1]=a(":",-1))]),s[3]||(s[3]=i(`<h2 id="详细对比表格" tabindex="-1"><a class="header-anchor" href="#详细对比表格"><span>详细对比表格</span></a></h2><table><thead><tr><th>特性</th><th>普通 Merge</th><th>Rebase Merge</th><th>Squash Merge</th></tr></thead><tbody><tr><td><strong>历史保留</strong></td><td>完整保留</td><td>重写历史</td><td>主分支压缩，功能分支保留</td></tr><tr><td><strong>提交图</strong></td><td>有合并节点</td><td>线性</td><td>线性</td></tr><tr><td><strong>冲突解决</strong></td><td>一次解决</td><td>可能多次解决</td><td>一次解决</td></tr><tr><td><strong>适用分支</strong></td><td>所有分支</td><td>本地/私有分支</td><td>功能分支</td></tr><tr><td><strong>审计能力</strong></td><td>优秀</td><td>良好</td><td>主分支一般，功能分支优秀</td></tr><tr><td><strong>团队影响</strong></td><td>无</td><td>可能影响他人</td><td>无</td></tr></tbody></table><h2 id="实际场景选择指南" tabindex="-1"><a class="header-anchor" href="#实际场景选择指南"><span>实际场景选择指南</span></a></h2><h3 id="场景-1-短期功能开发" tabindex="-1"><a class="header-anchor" href="#场景-1-短期功能开发"><span>场景 1：短期功能开发</span></a></h3><div class="language-bash" data-highlighter="shiki" data-ext="bash" style="--shiki-light:#393a34;--shiki-dark:#dbd7caee;--shiki-light-bg:#ffffff;--shiki-dark-bg:#121212;"><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code"><code class="language-bash"><span class="line"><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;"># 推荐使用 Squash Merge</span></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">git</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> checkout</span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;"> -b</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> feature-payment</span></span>
<span class="line"><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;"># ... 开发过程，多次提交</span></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">git</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> checkout</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> main</span></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">git</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> merge</span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;"> --squash</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> feature-payment</span></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">git</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> commit</span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;"> -m</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;"> &quot;</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">feat: 集成支付网关（Stripe）</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&quot;</span></span></code></pre></div><h3 id="场景-2-长期功能分支" tabindex="-1"><a class="header-anchor" href="#场景-2-长期功能分支"><span>场景 2：长期功能分支</span></a></h3><div class="language-bash" data-highlighter="shiki" data-ext="bash" style="--shiki-light:#393a34;--shiki-dark:#dbd7caee;--shiki-light-bg:#ffffff;--shiki-dark-bg:#121212;"><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code"><code class="language-bash"><span class="line"><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;"># 推荐使用普通 Merge</span></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">git</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> checkout</span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;"> -b</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> refactor-architecture</span></span>
<span class="line"><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;"># ... 数周开发，多人协作</span></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">git</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> checkout</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> main</span></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">git</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> merge</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> refactor-architecture</span></span></code></pre></div><h3 id="场景-3-个人功能分支-保持线性历史" tabindex="-1"><a class="header-anchor" href="#场景-3-个人功能分支-保持线性历史"><span>场景 3：个人功能分支，保持线性历史</span></a></h3><div class="language-bash" data-highlighter="shiki" data-ext="bash" style="--shiki-light:#393a34;--shiki-dark:#dbd7caee;--shiki-light-bg:#ffffff;--shiki-dark-bg:#121212;"><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code"><code class="language-bash"><span class="line"><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;"># 推荐使用 Rebase</span></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">git</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> checkout</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> feature-ui-improvement</span></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">git</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> rebase</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> main</span></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">git</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> checkout</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> main</span></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">git</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> merge</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> feature-ui-improvement</span></span></code></pre></div><h2 id="高级技巧与注意事项" tabindex="-1"><a class="header-anchor" href="#高级技巧与注意事项"><span>高级技巧与注意事项</span></a></h2><h3 id="_1-配置-git-默认使用-squash-merge" tabindex="-1"><a class="header-anchor" href="#_1-配置-git-默认使用-squash-merge"><span>1. 配置 Git 默认使用 Squash Merge</span></a></h3><div class="code-block-title" data-title="设置全局配置"><div class="code-block-title-bar"><span class="title">设置全局配置</span></div><div class="language-bash" data-highlighter="shiki" data-ext="bash" style="--shiki-light:#393a34;--shiki-dark:#dbd7caee;--shiki-light-bg:#ffffff;--shiki-dark-bg:#121212;"><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code"><code class="language-bash"><span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">git</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> config</span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;"> --global</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> merge.ff</span><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;"> false</span></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">git</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> config</span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;"> --global</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> pull.rebase</span><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;"> true</span></span></code></pre></div></div><h3 id="_2-在-github-gitlab-中启用-squash-merge" tabindex="-1"><a class="header-anchor" href="#_2-在-github-gitlab-中启用-squash-merge"><span>2. 在 GitHub/GitLab 中启用 Squash Merge</span></a></h3><div class="vp-steps"><ul><li>进入仓库设置</li><li>找到 &quot;Merge requests&quot; 或 &quot;Pull requests&quot; 设置</li><li>启用 &quot;Squash commits when merging&quot; 选项</li><li>保存设置</li></ul></div><h3 id="_3-处理-squash-merge-后的分支清理" tabindex="-1"><a class="header-anchor" href="#_3-处理-squash-merge-后的分支清理"><span>3. 处理 Squash Merge 后的分支清理</span></a></h3><div class="language-bash" data-highlighter="shiki" data-ext="bash" style="--shiki-light:#393a34;--shiki-dark:#dbd7caee;--shiki-light-bg:#ffffff;--shiki-dark-bg:#121212;"><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code"><code class="language-bash"><span class="line"><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;"># 合并后删除本地分支</span></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">git</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> branch</span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;"> -d</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> feature-branch</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;"># 删除远程分支</span></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">git</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> push</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> origin</span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;"> --delete</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> feature-branch</span></span></code></pre></div><h2 id="总结" tabindex="-1"><a class="header-anchor" href="#总结"><span>总结</span></a></h2><p>选择合适的 Git 合并策略是团队协作中的重要决策：</p><ul><li><strong>Squash Merge</strong>：<mark class="success">功能分支开发的黄金标准</mark>，平衡了历史整洁性和开发过程可追踪性</li><li><strong>普通 Merge</strong>：适合需要完整审计轨迹的重要功能</li><li><strong>Rebase Merge</strong>：个人分支整理历史的利器，但需谨慎使用</li></ul><div class="hint-container important"><p class="hint-container-title">核心建议</p><p>对于大多数团队项目，推荐采用 <strong>Squash Merge</strong> 作为默认策略，它为代码审查、问题追踪和发布管理提供了最佳平衡点。</p></div><p>通过理解每种策略的特点和适用场景，你的团队可以建立更高效、更规范的 Git 工作流程，提升整体的开发体验和代码质量。</p>`,21))])}const A=t(r,[["render",g]]),o=JSON.parse('{"path":"/article/73ybcbmj/","title":"Git Squash Merge 详解","lang":"zh-CN","frontmatter":{"title":"Git Squash Merge 详解","createTime":"2023/12/02 20:28:15","permalink":"/article/73ybcbmj/","tags":["git"],"description":"在团队协作开发中，Git 分支合并策略的选择直接影响代码库的整洁度和可维护性。本文将深入解析 Git Squash Merge，并与普通 Merge 和 Rebase Merge 进行详细对比，帮助你选择最适合项目的合并策略。 什么是 Git Squash Merge？ Git Squash Merge 是一种特殊的合并方式，它将多个提交压缩成一个提交...","head":[["script",{"type":"application/ld+json"},"{\\"@context\\":\\"https://schema.org\\",\\"@type\\":\\"Article\\",\\"headline\\":\\"Git Squash Merge 详解\\",\\"image\\":[\\"\\"],\\"dateModified\\":\\"2025-10-17T12:34:03.000Z\\",\\"author\\":[]}"],["meta",{"property":"og:url","content":"https://pengzhanbo.cn/article/73ybcbmj/"}],["meta",{"property":"og:site_name","content":"鹏展博"}],["meta",{"property":"og:title","content":"Git Squash Merge 详解"}],["meta",{"property":"og:description","content":"在团队协作开发中，Git 分支合并策略的选择直接影响代码库的整洁度和可维护性。本文将深入解析 Git Squash Merge，并与普通 Merge 和 Rebase Merge 进行详细对比，帮助你选择最适合项目的合并策略。 什么是 Git Squash Merge？ Git Squash Merge 是一种特殊的合并方式，它将多个提交压缩成一个提交..."}],["meta",{"property":"og:type","content":"article"}],["meta",{"property":"og:locale","content":"zh-CN"}],["meta",{"property":"og:updated_time","content":"2025-10-17T12:34:03.000Z"}],["meta",{"property":"article:tag","content":"git"}],["meta",{"property":"article:modified_time","content":"2025-10-17T12:34:03.000Z"}]]},"readingTime":{"minutes":4.99,"words":1498},"git":{"createdTime":1760704443000,"updatedTime":1760704443000,"contributors":[{"name":"pengzhanbo","username":"pengzhanbo","email":"volodymyr@foxmail.com","commits":1,"avatar":"https://avatars.githubusercontent.com/pengzhanbo?v=4","url":"https://github.com/pengzhanbo"}]},"autoDesc":true,"filePathRelative":"blog/1.前端/2.工具/git-merge-squash.md","headers":[],"categoryList":[{"id":"72e6d5","sort":1,"name":"前端"},{"id":"8d7e99","sort":2,"name":"工具"}]}');export{A as comp,o as data};
