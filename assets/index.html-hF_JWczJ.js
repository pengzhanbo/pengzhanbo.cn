import{_ as i,c as a,e as h,o as t}from"./app-D7KDYWdB.js";const n={};function e(p,s){return t(),a("div",null,[...s[0]||(s[0]=[h(`<h2 id="启动" tabindex="-1"><a class="header-anchor" href="#启动"><span>启动</span></a></h2><p>启动 node 进程</p><div class="language-sh" data-highlighter="shiki" data-ext="sh" style="--shiki-light:#393a34;--shiki-dark:#dbd7caee;--shiki-light-bg:#ffffff;--shiki-dark-bg:#121212;"><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code"><code class="language-sh"><span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">pm2</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> start</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> app.js</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">pm2</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> ping</span><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;"> # 确保 pm2 守护进程已经启动</span></span></code></pre></div><p>启动其它应用程序</p><div class="language-sh" data-highlighter="shiki" data-ext="sh" style="--shiki-light:#393a34;--shiki-dark:#dbd7caee;--shiki-light-bg:#ffffff;--shiki-dark-bg:#121212;"><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code"><code class="language-sh"><span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">pm2</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> start</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> bash.sh</span></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">pm2</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> start</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> python-app.py</span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;"> --watch</span></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">pm2</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> start</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> binary-file</span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;"> --</span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;"> --port</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;"> 1520</span></span></code></pre></div><h2 id="流程管理" tabindex="-1"><a class="header-anchor" href="#流程管理"><span>流程管理</span></a></h2><div class="language-sh" data-highlighter="shiki" data-ext="sh" style="--shiki-light:#393a34;--shiki-dark:#dbd7caee;--shiki-light-bg:#ffffff;--shiki-dark-bg:#121212;"><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code"><code class="language-sh"><span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">pm2</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> restart</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> app_name</span><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;"> # 重启 app_name</span></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">pm2</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> reload</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> app_name</span><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;">  # 重载 app_name</span></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">pm2</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> stop</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> app_name</span><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;">    # 停止 app_name</span></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">pm2</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> delete</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> app_name</span><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;">  # 删除 app_name</span></span></code></pre></div><p>可以将 <code>app_name</code> 替换为：</p><ul><li><code>all</code>: 表示所有进程</li><li><code>id</code>: 指定特定 id 的进程</li></ul><h2 id="检查状态" tabindex="-1"><a class="header-anchor" href="#检查状态"><span>检查状态</span></a></h2><p>列出 PM2 的所有应用状态</p><div class="language-sh" data-highlighter="shiki" data-ext="sh" style="--shiki-light:#393a34;--shiki-dark:#dbd7caee;--shiki-light-bg:#ffffff;--shiki-dark-bg:#121212;"><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code"><code class="language-sh"><span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">pm2</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;"> [list</span><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;">|</span><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">ls</span><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;">|</span><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">status]</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">pm2</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> list</span><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;">        # 显示所有进程状态</span></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">pm2</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> jlist</span><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;">       # 以原始 JSON 格式打印进程列表</span></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">pm2</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> prettylist</span><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;">  # 以美化JSON打印进程列表</span></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">pm2</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> describe</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;"> 0</span><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;">  # 显示有关特定进程的所有信息</span></span></code></pre></div><h2 id="日志" tabindex="-1"><a class="header-anchor" href="#日志"><span>日志</span></a></h2><div class="language-sh" data-highlighter="shiki" data-ext="sh" style="--shiki-light:#393a34;--shiki-dark:#dbd7caee;--shiki-light-bg:#ffffff;--shiki-dark-bg:#121212;"><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code"><code class="language-sh"><span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">pm2</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> logs</span></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">pm2</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> logs</span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;"> --lines</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;"> 200</span><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;"> # 旧日志</span></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">pm2</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> flush</span><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;">         # 清空所有日志文件</span></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">pm2</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> reloadLogs</span><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;">    # 重新加载所有日志</span></span></code></pre></div><p>终端仪表板</p><div class="language-sh" data-highlighter="shiki" data-ext="sh" style="--shiki-light:#393a34;--shiki-dark:#dbd7caee;--shiki-light-bg:#ffffff;--shiki-dark-bg:#121212;"><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code"><code class="language-sh"><span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">pm2</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> monit</span></span></code></pre></div><p>Web 的仪表板</p><div class="language-sh" data-highlighter="shiki" data-ext="sh" style="--shiki-light:#393a34;--shiki-dark:#dbd7caee;--shiki-light-bg:#ffffff;--shiki-dark-bg:#121212;"><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code"><code class="language-sh"><span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">pm2</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> plus</span></span></code></pre></div><h2 id="集群模式" tabindex="-1"><a class="header-anchor" href="#集群模式"><span>集群模式</span></a></h2><div class="language-sh" data-highlighter="shiki" data-ext="sh" style="--shiki-light:#393a34;--shiki-dark:#dbd7caee;--shiki-light-bg:#ffffff;--shiki-dark-bg:#121212;"><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code"><code class="language-sh"><span class="line"><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;"># 0 / max 表示根据 CPU 数量启动多个进程</span></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">pm2</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> start</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> app.js</span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;"> -i</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;"> 0</span></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">pm2</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> start</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> app.js</span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;"> -i</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> max</span><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;"> # 等同 0 ，已弃用</span></span></code></pre></div><h2 id="常用命令行参数" tabindex="-1"><a class="header-anchor" href="#常用命令行参数"><span>常用命令行参数</span></a></h2><div class="language-sh" data-highlighter="shiki" data-ext="sh" style="--shiki-light:#393a34;--shiki-dark:#dbd7caee;--shiki-light-bg:#ffffff;--shiki-dark-bg:#121212;"><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code"><code class="language-sh"><span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">--name</span><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;"> &lt;</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">app_nam</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">e</span><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;">&gt;</span><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;"> # 指定应用名称</span></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">--watch</span><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;"> # 监听文件更新并重启应用</span></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">--max-memory-restart</span><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;"> &lt;</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">200M</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">B</span><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;">&gt;</span><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;"> # 设置应用重新加载的最大内存阈值</span></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">--log</span><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;"> &lt;</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">log_pat</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">h</span><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;">&gt;</span><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;"> # 指定日志路径</span></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">--restart-delay</span><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;"> &lt;</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">delay</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> in</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> m</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">s</span><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;">&gt;</span><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;"> # 自动重启之间的延迟</span></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">--time</span><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;"> # 带时间前缀的日志</span></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">--no-autorestart</span><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;"> # 不自动重启</span></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">--cron</span><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;"> &lt;</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">cron_patter</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">n</span><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;">&gt;</span><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;"> # 指定 cron 强制重启</span></span></code></pre></div><h2 id="更新-pm2" tabindex="-1"><a class="header-anchor" href="#更新-pm2"><span>更新 PM2</span></a></h2><div class="language-sh" data-highlighter="shiki" data-ext="sh" style="--shiki-light:#393a34;--shiki-dark:#dbd7caee;--shiki-light-bg:#ffffff;--shiki-dark-bg:#121212;"><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code"><code class="language-sh"><span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">npm</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> install</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> pm2@latest</span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;"> -g</span></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">pm2</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> update</span><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;">  # 更新内存中的 pm2</span></span></code></pre></div>`,24)])])}const k=i(n,[["render",e]]),d=JSON.parse('{"path":"/memorandum/pm2/","title":"pm2","lang":"zh-CN","frontmatter":{"title":"pm2","icon":"logos:pm2-icon","createTime":"2021/09/20 22:02:09","permalink":"/memorandum/pm2/","description":"启动 启动 node 进程 启动其它应用程序 流程管理 可以将 app_name 替换为： all: 表示所有进程 id: 指定特定 id 的进程 检查状态 列出 PM2 的所有应用状态 日志 终端仪表板 Web 的仪表板 集群模式 常用命令行参数 更新 PM2","head":[["script",{"type":"application/ld+json"},"{\\"@context\\":\\"https://schema.org\\",\\"@type\\":\\"Article\\",\\"headline\\":\\"pm2\\",\\"image\\":[\\"\\"],\\"dateModified\\":\\"2025-10-07T17:39:39.000Z\\",\\"author\\":[]}"],["meta",{"property":"og:url","content":"https://pengzhanbo.cn/memorandum/pm2/"}],["meta",{"property":"og:site_name","content":"鹏展博"}],["meta",{"property":"og:title","content":"pm2"}],["meta",{"property":"og:description","content":"启动 启动 node 进程 启动其它应用程序 流程管理 可以将 app_name 替换为： all: 表示所有进程 id: 指定特定 id 的进程 检查状态 列出 PM2 的所有应用状态 日志 终端仪表板 Web 的仪表板 集群模式 常用命令行参数 更新 PM2"}],["meta",{"property":"og:type","content":"article"}],["meta",{"property":"og:locale","content":"zh-CN"}],["meta",{"property":"og:updated_time","content":"2025-10-07T17:39:39.000Z"}],["meta",{"property":"article:modified_time","content":"2025-10-07T17:39:39.000Z"}]]},"readingTime":{"minutes":1.36,"words":409},"git":{"createdTime":1718957980000,"updatedTime":1759858779000,"contributors":[{"name":"pengzhanbo","username":"pengzhanbo","email":"volodymyr@foxmail.com","commits":4,"avatar":"https://avatars.githubusercontent.com/pengzhanbo?v=4","url":"https://github.com/pengzhanbo"}]},"autoDesc":true,"filePathRelative":"备忘录/pm2.md","headers":[]}');export{k as comp,d as data};
